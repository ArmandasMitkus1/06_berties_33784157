<!DOCTYPE html>
<html>
<head>
    <title>Your Cart â€“ <%= shopName %></title>
    <link rel="stylesheet" href="<%= basePath %>/main.css">
</head>

<body>
<h1>ğŸ›’ Your Cart â€“ <%= shopName %></h1>

<p>
    <a href="<%= basePath %>/">ğŸ  Home</a> |
    <a href="<%= basePath %>/books">ğŸ“š Books</a> |
    <a href="<%= basePath %>/users/list">ğŸ‘¤ Users</a> |
    <a href="<%= basePath %>/logout">ğŸšª Logout</a>
</p>

<hr>

<% if (!cart || cart.length === 0) { %>

    <h2>Your cart is empty.</h2>
    <p><a href="<%= basePath %>/books">Browse books</a> to add some! ğŸ“˜</p>

<% } else { %>

    <table border="1" cellpadding="6">
        <tr>
            <th>Book</th>
            <th>Price (Â£)</th>
            <th>Remove</th>
        </tr>

        <% let total = 0; %>
        <% cart.forEach(book => { 
            total += Number(book.price);
        %>
            <tr>
                <td><%= book.name %></td>
                <td>Â£<%= Number(book.price).toFixed(2) %></td>
                <td><a href="<%= basePath %>/cart/remove/<%= book.id %>">âŒ</a></td>
            </tr>
        <% }); %>
    </table>

    <h2 style="margin-top:18px;">ğŸ§¾ Total: Â£<%= total.toFixed(2) %></h2>

    <button style="padding:10px;margin-top:10px;">Checkout ğŸ’³</button>

<% } %>

</body>
</html>
